{"version":3,"sources":["Components/MultiSelector/SelectItems.tsx","../node_modules/_@babel_runtime@7.4.5@@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/_@babel_runtime@7.4.5@@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/_@babel_runtime@7.4.5@@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/_@babel_runtime@7.4.5@@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["TOP_100_FILMS","title","year","map","m","index","Object","_mnt_c_Users_changwenguang_Desktop_projects_std_page_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","rank","renderFilm","film","_ref","handleClick","modifiers","query","matchesPredicate","text","concat","react__WEBPACK_IMPORTED_MODULE_3__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__","active","disabled","label","toString","key","onClick","highlightText","renderCreateFilmOption","icon","shouldDismissPopover","filterFilm","_index","exactMatch","normalizedTitle","toLowerCase","normalizedQuery","indexOf","lastIndex","words","split","filter","word","length","escapeRegExpChars","regexp","RegExp","join","tokens","match","exec","before","slice","push","rest","filmSelectProps","itemPredicate","itemRenderer","items","createFilm","Math","floor","random","Date","getFullYear","areFilmsEqual","filmA","filmB","doesFilmEqualQuery","arrayContainsFilm","films","filmToFind","some","addFilmToArray","filmToAdd","_mnt_c_Users_changwenguang_Desktop_projects_std_page_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","deleteFilmFromArray","filmToDelete","maybeAddCreatedFilmToArrays","createdItems","isNewlyCreatedItem","maybeDeleteCreatedFilmFromArrays","wasItemCreatedByUser","_toConsumableArray","arr","Array","isArray","i","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","call","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__"],"mappings":"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","file":"static/js/7.c0e983a2.chunk.js","sourcesContent":["/*\r\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { MenuItem } from \"@blueprintjs/core\";\r\nimport { ItemPredicate, ItemRenderer } from \"@blueprintjs/select\";\r\nimport * as React from \"react\";\r\n\r\nexport interface IFilm {\r\n  /** Title of film. */\r\n  title: string;\r\n  /** Release year. */\r\n  year: number;\r\n  /** IMDb ranking. */\r\n  rank: number;\r\n}\r\n\r\n/** Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top */\r\nexport const TOP_100_FILMS: IFilm[] = [\r\n  { title: \"The Shawshank Redemption\", year: 1994 },\r\n  { title: \"The Godfather\", year: 1972 },\r\n  { title: \"The Godfather: Part II\", year: 1974 },\r\n  { title: \"The Dark Knight\", year: 2008 },\r\n  { title: \"12 Angry Men\", year: 1957 },\r\n  { title: \"Schindler's List\", year: 1993 },\r\n  { title: \"Pulp Fiction\", year: 1994 },\r\n  { title: \"The Lord of the Rings: The Return of the King\", year: 2003 },\r\n  { title: \"The Good, the Bad and the Ugly\", year: 1966 },\r\n  { title: \"Fight Club\", year: 1999 },\r\n  { title: \"The Lord of the Rings: The Fellowship of the Ring\", year: 2001 },\r\n  { title: \"Star Wars: Episode V - The Empire Strikes Back\", year: 1980 },\r\n  { title: \"Forrest Gump\", year: 1994 },\r\n  { title: \"Inception\", year: 2010 },\r\n  { title: \"The Lord of the Rings: The Two Towers\", year: 2002 },\r\n  { title: \"One Flew Over the Cuckoo's Nest\", year: 1975 },\r\n  { title: \"Goodfellas\", year: 1990 },\r\n  { title: \"The Matrix\", year: 1999 },\r\n  { title: \"Seven Samurai\", year: 1954 },\r\n  { title: \"Star Wars: Episode IV - A New Hope\", year: 1977 },\r\n  { title: \"City of God\", year: 2002 },\r\n  { title: \"Se7en\", year: 1995 },\r\n  { title: \"The Silence of the Lambs\", year: 1991 },\r\n  { title: \"It's a Wonderful Life\", year: 1946 },\r\n  { title: \"Life Is Beautiful\", year: 1997 },\r\n  { title: \"The Usual Suspects\", year: 1995 },\r\n  { title: \"Léon: The Professional\", year: 1994 },\r\n  { title: \"Spirited Away\", year: 2001 },\r\n  { title: \"Saving Private Ryan\", year: 1998 },\r\n  { title: \"Once Upon a Time in the West\", year: 1968 },\r\n  { title: \"American History X\", year: 1998 },\r\n  { title: \"Interstellar\", year: 2014 },\r\n  { title: \"Casablanca\", year: 1942 },\r\n  { title: \"City Lights\", year: 1931 },\r\n  { title: \"Psycho\", year: 1960 },\r\n  { title: \"The Green Mile\", year: 1999 },\r\n  { title: \"The Intouchables\", year: 2011 },\r\n  { title: \"Modern Times\", year: 1936 },\r\n  { title: \"Raiders of the Lost Ark\", year: 1981 },\r\n  { title: \"Rear Window\", year: 1954 },\r\n  { title: \"The Pianist\", year: 2002 },\r\n  { title: \"The Departed\", year: 2006 },\r\n  { title: \"Terminator 2: Judgment Day\", year: 1991 },\r\n  { title: \"Back to the Future\", year: 1985 },\r\n  { title: \"Whiplash\", year: 2014 },\r\n  { title: \"Gladiator\", year: 2000 },\r\n  { title: \"Memento\", year: 2000 },\r\n  { title: \"The Prestige\", year: 2006 },\r\n  { title: \"The Lion King\", year: 1994 },\r\n  { title: \"Apocalypse Now\", year: 1979 },\r\n  { title: \"Alien\", year: 1979 },\r\n  { title: \"Sunset Boulevard\", year: 1950 },\r\n  {\r\n    title:\r\n      \"Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb\",\r\n    year: 1964\r\n  },\r\n  { title: \"The Great Dictator\", year: 1940 },\r\n  { title: \"Cinema Paradiso\", year: 1988 },\r\n  { title: \"The Lives of Others\", year: 2006 },\r\n  { title: \"Grave of the Fireflies\", year: 1988 },\r\n  { title: \"Paths of Glory\", year: 1957 },\r\n  { title: \"Django Unchained\", year: 2012 },\r\n  { title: \"The Shining\", year: 1980 },\r\n  { title: \"WALL·E\", year: 2008 },\r\n  { title: \"American Beauty\", year: 1999 },\r\n  { title: \"The Dark Knight Rises\", year: 2012 },\r\n  { title: \"Princess Mononoke\", year: 1997 },\r\n  { title: \"Aliens\", year: 1986 },\r\n  { title: \"Oldboy\", year: 2003 },\r\n  { title: \"Once Upon a Time in America\", year: 1984 },\r\n  { title: \"Witness for the Prosecution\", year: 1957 },\r\n  { title: \"Das Boot\", year: 1981 },\r\n  { title: \"Citizen Kane\", year: 1941 },\r\n  { title: \"North by Northwest\", year: 1959 },\r\n  { title: \"Vertigo\", year: 1958 },\r\n  { title: \"Star Wars: Episode VI - Return of the Jedi\", year: 1983 },\r\n  { title: \"Reservoir Dogs\", year: 1992 },\r\n  { title: \"Braveheart\", year: 1995 },\r\n  { title: \"M\", year: 1931 },\r\n  { title: \"Requiem for a Dream\", year: 2000 },\r\n  { title: \"Amélie\", year: 2001 },\r\n  { title: \"A Clockwork Orange\", year: 1971 },\r\n  { title: \"Like Stars on Earth\", year: 2007 },\r\n  { title: \"Taxi Driver\", year: 1976 },\r\n  { title: \"Lawrence of Arabia\", year: 1962 },\r\n  { title: \"Double Indemnity\", year: 1944 },\r\n  { title: \"Eternal Sunshine of the Spotless Mind\", year: 2004 },\r\n  { title: \"Amadeus\", year: 1984 },\r\n  { title: \"To Kill a Mockingbird\", year: 1962 },\r\n  { title: \"Toy Story 3\", year: 2010 },\r\n  { title: \"Logan\", year: 2017 },\r\n  { title: \"Full Metal Jacket\", year: 1987 },\r\n  { title: \"Dangal\", year: 2016 },\r\n  { title: \"The Sting\", year: 1973 },\r\n  { title: \"2001: A Space Odyssey\", year: 1968 },\r\n  { title: \"Singin' in the Rain\", year: 1952 },\r\n  { title: \"Toy Story\", year: 1995 },\r\n  { title: \"Bicycle Thieves\", year: 1948 },\r\n  { title: \"The Kid\", year: 1921 },\r\n  { title: \"Inglourious Basterds\", year: 2009 },\r\n  { title: \"Snatch\", year: 2000 },\r\n  { title: \"3 Idiots\", year: 2009 },\r\n  { title: \"Monty Python and the Holy Grail\", year: 1975 }\r\n].map((m, index) => ({ ...m, rank: index + 1 }));\r\n\r\nexport const renderFilm: ItemRenderer<IFilm> = (\r\n  film,\r\n  { handleClick, modifiers, query }\r\n) => {\r\n  if (!modifiers.matchesPredicate) {\r\n    return null;\r\n  }\r\n  const text = `${film.rank}. ${film.title}`;\r\n  return (\r\n    <MenuItem\r\n      active={modifiers.active}\r\n      disabled={modifiers.disabled}\r\n      label={film.year.toString()}\r\n      key={film.rank}\r\n      onClick={handleClick}\r\n      text={highlightText(text, query)}\r\n    />\r\n  );\r\n};\r\n\r\nexport const renderCreateFilmOption = (\r\n  query: string,\r\n  active: boolean,\r\n  handleClick: React.MouseEventHandler<HTMLElement>\r\n) => (\r\n  <MenuItem\r\n    icon=\"add\"\r\n    text={`Create \"${query}\"`}\r\n    active={active}\r\n    onClick={handleClick}\r\n    shouldDismissPopover={false}\r\n  />\r\n);\r\n\r\nexport const filterFilm: ItemPredicate<IFilm> = (\r\n  query,\r\n  film,\r\n  _index,\r\n  exactMatch\r\n) => {\r\n  const normalizedTitle = film.title.toLowerCase();\r\n  const normalizedQuery = query.toLowerCase();\r\n\r\n  if (exactMatch) {\r\n    return normalizedTitle === normalizedQuery;\r\n  } else {\r\n    return (\r\n      `${film.rank}. ${normalizedTitle} ${film.year}`.indexOf(\r\n        normalizedQuery\r\n      ) >= 0\r\n    );\r\n  }\r\n};\r\n\r\nfunction highlightText(text: string, query: string) {\r\n  let lastIndex = 0;\r\n  const words = query\r\n    .split(/\\s+/)\r\n    .filter(word => word.length > 0)\r\n    .map(escapeRegExpChars);\r\n  if (words.length === 0) {\r\n    return [text];\r\n  }\r\n  const regexp = new RegExp(words.join(\"|\"), \"gi\");\r\n  const tokens: React.ReactNode[] = [];\r\n  while (true) {\r\n    const match = regexp.exec(text);\r\n    if (!match) {\r\n      break;\r\n    }\r\n    const length = match[0].length;\r\n    const before = text.slice(lastIndex, regexp.lastIndex - length);\r\n    if (before.length > 0) {\r\n      tokens.push(before);\r\n    }\r\n    lastIndex = regexp.lastIndex;\r\n    tokens.push(<strong key={lastIndex}>{match[0]}</strong>);\r\n  }\r\n  const rest = text.slice(lastIndex);\r\n  if (rest.length > 0) {\r\n    tokens.push(rest);\r\n  }\r\n  return tokens;\r\n}\r\n\r\nfunction escapeRegExpChars(text: string) {\r\n  return text;\r\n  //return text.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\r\n}\r\n\r\nexport const filmSelectProps = {\r\n  itemPredicate: filterFilm,\r\n  itemRenderer: renderFilm,\r\n  items: TOP_100_FILMS\r\n};\r\n\r\nexport function createFilm(title: string): IFilm {\r\n  return {\r\n    rank: 100 + Math.floor(Math.random() * 100 + 1),\r\n    title,\r\n    year: new Date().getFullYear()\r\n  };\r\n}\r\n\r\nexport function areFilmsEqual(filmA: IFilm, filmB: IFilm) {\r\n  // Compare only the titles (ignoring case) just for simplicity.\r\n  return filmA.title.toLowerCase() === filmB.title.toLowerCase();\r\n}\r\n\r\nexport function doesFilmEqualQuery(film: IFilm, query: string) {\r\n  return film.title.toLowerCase() === query.toLowerCase();\r\n}\r\n\r\nexport function arrayContainsFilm(films: IFilm[], filmToFind: IFilm): boolean {\r\n  return films.some((film: IFilm) => film.title === filmToFind.title);\r\n}\r\n\r\nexport function addFilmToArray(films: IFilm[], filmToAdd: IFilm) {\r\n  return [...films, filmToAdd];\r\n}\r\n\r\nexport function deleteFilmFromArray(films: IFilm[], filmToDelete: IFilm) {\r\n  return films.filter(film => film !== filmToDelete);\r\n}\r\n\r\nexport function maybeAddCreatedFilmToArrays(\r\n  items: IFilm[],\r\n  createdItems: IFilm[],\r\n  film: IFilm\r\n): { createdItems: IFilm[]; items: IFilm[] } {\r\n  const isNewlyCreatedItem = !arrayContainsFilm(items, film);\r\n  return {\r\n    createdItems: isNewlyCreatedItem\r\n      ? addFilmToArray(createdItems, film)\r\n      : createdItems,\r\n    // Add a created film to `items` so that the film can be deselected.\r\n    items: isNewlyCreatedItem ? addFilmToArray(items, film) : items\r\n  };\r\n}\r\n\r\nexport function maybeDeleteCreatedFilmFromArrays(\r\n  items: IFilm[],\r\n  createdItems: IFilm[],\r\n  film: IFilm\r\n): { createdItems: IFilm[]; items: IFilm[] } {\r\n  const wasItemCreatedByUser = arrayContainsFilm(createdItems, film);\r\n\r\n  // Delete the item if the user manually created it.\r\n  return {\r\n    createdItems: wasItemCreatedByUser\r\n      ? deleteFilmFromArray(createdItems, film)\r\n      : createdItems,\r\n    items: wasItemCreatedByUser ? deleteFilmFromArray(items, film) : items\r\n  };\r\n}\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}"],"sourceRoot":""}