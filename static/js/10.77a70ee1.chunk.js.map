{"version":3,"sources":["Components/Selector/SelectItems.tsx","../node_modules/_@blueprintjs_core@3.16.2@@blueprintjs/core/lib/esm/components/forms/inputGroup.js","../node_modules/_@blueprintjs_select@3.8.1@@blueprintjs/select/lib/esm/components/select/select.js","Components/Selector/Selector.tsx"],"names":["TOP_100_FILMS","title","year","map","m","index","Object","_mnt_c_Users_changwenguang_Desktop_projects_std_page_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","rank","renderFilm","film","_ref","handleClick","modifiers","query","matchesPredicate","text","concat","react__WEBPACK_IMPORTED_MODULE_2__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__","active","disabled","label","toString","key","onClick","highlightText","filterFilm","toLowerCase","indexOf","lastIndex","words","split","filter","word","length","escapeRegExpChars","regexp","RegExp","join","tokens","match","exec","before","slice","push","rest","filmSelectProps","itemPredicate","itemRenderer","items","DEFAULT_RIGHT_ELEMENT_WIDTH","inputGroup_InputGroup","_super","InputGroup","_this","apply","this","arguments","state","rightElementWidth","refHandlers","rightElement","ref","tslib_es6","prototype","render","_b","_a","props","className","intent","large","small","leftIcon","round","classes","_classnames_2_2_6_classnames_default","common_classes","style","paddingRight","_react_16_8_6_react","icon","type","common_props","inputRef","maybeRenderRightElement","componentDidMount","updateInputWidth","componentDidUpdate","clientWidth","Math","abs","setState","displayName","select_Select","Select","isOpen","TypedQueryList","queryList","ofType","input","common","safeInvokeMember","inputProps","renderQueryList","listProps","filterable","_c","_d","_e","popoverProps","placeholder","maybeRenderClearButton","onChange","handleQueryChange","value","handleKeyDown","handleKeyUp","popover","autoFocus","enforceFocus","position","BOTTOM_LEFT","onInteraction","handlePopoverInteraction","popoverClassName","esm_common","SELECT_POPOVER","onOpening","handlePopoverOpening","onOpened","handlePopoverOpened","onClosing","handlePopoverClosing","onKeyDown","handleTargetKeyDown","onKeyUp","undefined","children","itemList","event","which","ARROW_UP","ARROW_DOWN","preventDefault","handleItemSelect","item","safeInvoke","onItemSelect","node","previousFocusedElement","document","activeElement","resetOnClose","resetQuery","scrollActiveItemIntoView","requestAnimationFrame","focus","setQuery","restProps","renderer","_prevProps","prevState","buttons","minimal","FilmSelect","Selector","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleValueChange","Films","buttonText","noResults","menuItem","rightIcon","React"],"mappings":"2SAoBaA,EAAyB,CACpC,CAAEC,MAAO,2BAA4BC,KAAM,MAC3C,CAAED,MAAO,gBAAiBC,KAAM,MAChC,CAAED,MAAO,yBAA0BC,KAAM,MACzC,CAAED,MAAO,kBAAmBC,KAAM,MAClC,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,gDAAiDC,KAAM,MAChE,CAAED,MAAO,iCAAkCC,KAAM,MACjD,CAAED,MAAO,aAAcC,KAAM,MAC7B,CAAED,MAAO,oDAAqDC,KAAM,MACpE,CAAED,MAAO,iDAAkDC,KAAM,MACjE,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,YAAaC,KAAM,MAC5B,CAAED,MAAO,wCAAyCC,KAAM,MACxD,CAAED,MAAO,kCAAmCC,KAAM,MAClD,CAAED,MAAO,aAAcC,KAAM,MAC7B,CAAED,MAAO,aAAcC,KAAM,MAC7B,CAAED,MAAO,gBAAiBC,KAAM,MAChC,CAAED,MAAO,qCAAsCC,KAAM,MACrD,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,QAASC,KAAM,MACxB,CAAED,MAAO,2BAA4BC,KAAM,MAC3C,CAAED,MAAO,wBAAyBC,KAAM,MACxC,CAAED,MAAO,oBAAqBC,KAAM,MACpC,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,4BAA0BC,KAAM,MACzC,CAAED,MAAO,gBAAiBC,KAAM,MAChC,CAAED,MAAO,sBAAuBC,KAAM,MACtC,CAAED,MAAO,+BAAgCC,KAAM,MAC/C,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,aAAcC,KAAM,MAC7B,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,SAAUC,KAAM,MACzB,CAAED,MAAO,iBAAkBC,KAAM,MACjC,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,0BAA2BC,KAAM,MAC1C,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,6BAA8BC,KAAM,MAC7C,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,WAAYC,KAAM,MAC3B,CAAED,MAAO,YAAaC,KAAM,KAC5B,CAAED,MAAO,UAAWC,KAAM,KAC1B,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,gBAAiBC,KAAM,MAChC,CAAED,MAAO,iBAAkBC,KAAM,MACjC,CAAED,MAAO,QAASC,KAAM,MACxB,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CACED,MACE,uEACFC,KAAM,MAER,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,kBAAmBC,KAAM,MAClC,CAAED,MAAO,sBAAuBC,KAAM,MACtC,CAAED,MAAO,yBAA0BC,KAAM,MACzC,CAAED,MAAO,iBAAkBC,KAAM,MACjC,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,YAAUC,KAAM,MACzB,CAAED,MAAO,kBAAmBC,KAAM,MAClC,CAAED,MAAO,wBAAyBC,KAAM,MACxC,CAAED,MAAO,oBAAqBC,KAAM,MACpC,CAAED,MAAO,SAAUC,KAAM,MACzB,CAAED,MAAO,SAAUC,KAAM,MACzB,CAAED,MAAO,8BAA+BC,KAAM,MAC9C,CAAED,MAAO,8BAA+BC,KAAM,MAC9C,CAAED,MAAO,WAAYC,KAAM,MAC3B,CAAED,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,UAAWC,KAAM,MAC1B,CAAED,MAAO,6CAA8CC,KAAM,MAC7D,CAAED,MAAO,iBAAkBC,KAAM,MACjC,CAAED,MAAO,aAAcC,KAAM,MAC7B,CAAED,MAAO,IAAKC,KAAM,MACpB,CAAED,MAAO,sBAAuBC,KAAM,KACtC,CAAED,MAAO,YAAUC,KAAM,MACzB,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,sBAAuBC,KAAM,MACtC,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,qBAAsBC,KAAM,MACrC,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CAAED,MAAO,wCAAyCC,KAAM,MACxD,CAAED,MAAO,UAAWC,KAAM,MAC1B,CAAED,MAAO,wBAAyBC,KAAM,MACxC,CAAED,MAAO,cAAeC,KAAM,MAC9B,CAAED,MAAO,QAASC,KAAM,MACxB,CAAED,MAAO,oBAAqBC,KAAM,MACpC,CAAED,MAAO,SAAUC,KAAM,MACzB,CAAED,MAAO,YAAaC,KAAM,MAC5B,CAAED,MAAO,wBAAyBC,KAAM,MACxC,CAAED,MAAO,sBAAuBC,KAAM,MACtC,CAAED,MAAO,YAAaC,KAAM,MAC5B,CAAED,MAAO,kBAAmBC,KAAM,MAClC,CAAED,MAAO,UAAWC,KAAM,MAC1B,CAAED,MAAO,uBAAwBC,KAAM,MACvC,CAAED,MAAO,SAAUC,KAAM,KACzB,CAAED,MAAO,WAAYC,KAAM,MAC3B,CAAED,MAAO,kCAAmCC,KAAM,OAClDC,IAAI,SAACC,EAAGC,GAAJ,OAAAC,OAAAC,EAAA,EAAAD,CAAA,GAAoBF,EAApB,CAAuBI,KAAMH,EAAQ,MAE9BI,EAAkC,SAC7CC,EAD6CC,GAG1C,IADDC,EACCD,EADDC,YAAaC,EACZF,EADYE,UAAWC,EACvBH,EADuBG,MAE1B,IAAKD,EAAUE,iBACb,OAAO,KAET,IAAMC,EAAI,GAAAC,OAAMP,EAAKF,KAAX,MAAAS,OAAoBP,EAAKT,OACnC,OACEiB,EAAA,cAACC,EAAA,EAAD,CACEC,OAAQP,EAAUO,OAClBC,SAAUR,EAAUQ,SACpBC,MAAOZ,EAAKR,KAAKqB,WACjBC,IAAKd,EAAKF,KACViB,QAASb,EACTI,KAAMU,EAAcV,EAAMF,MAKnBa,EAAmC,SAACb,EAAOJ,GACtD,MACE,GAAAO,OAAGP,EAAKF,KAAR,MAAAS,OAAiBP,EAAKT,MAAM2B,cAA5B,KAAAX,OAA6CP,EAAKR,MAAO2B,QACvDf,EAAMc,gBACH,GAIT,SAASF,EAAcV,EAAcF,GACnC,IAAIgB,EAAY,EACVC,EAAQjB,EACXkB,MAAM,OACNC,OAAO,SAAAC,GAAI,OAAIA,EAAKC,OAAS,IAC7BhC,IAAIiC,GACP,GAAqB,IAAjBL,EAAMI,OACR,MAAO,CAACnB,GAIV,IAFA,IAAMqB,EAAS,IAAIC,OAAOP,EAAMQ,KAAK,KAAM,MACrCC,EAA4B,KACrB,CACX,IAAMC,EAAQJ,EAAOK,KAAK1B,GAC1B,IAAKyB,EACH,MAEF,IAAMN,EAASM,EAAM,GAAGN,OAClBQ,EAAS3B,EAAK4B,MAAMd,EAAWO,EAAOP,UAAYK,GACpDQ,EAAOR,OAAS,GAClBK,EAAOK,KAAKF,GAEdb,EAAYO,EAAOP,UACnBU,EAAOK,KAAK3B,EAAA,wBAAQM,IAAKM,GAAYW,EAAM,KAE7C,IAAMK,EAAO9B,EAAK4B,MAAMd,GAIxB,OAHIgB,EAAKX,OAAS,GAChBK,EAAOK,KAAKC,GAEPN,EAGT,SAASJ,EAAkBpB,GACzB,OAAOA,EAGF,IAAM+B,EAAkB,CAC7BC,cAAerB,EACfsB,aAAcxC,EACdyC,MAAOlD,mKC5KTmD,EAAA,GAEIC,EAEJ,SAAAC,GAGA,SAAAC,IACA,IAAAC,EAAA,OAAAF,KAAAG,MAAAC,KAAAC,YAAAD,KAUA,OARAF,EAAAI,MAAA,CACAC,kBAAAT,GAEAI,EAAAM,YAAA,CACAC,aAAA,SAAAC,GACA,OAAAR,EAAAO,aAAAC,IAGAR,EAsEA,OAnFES,EAAA,EAAiBV,EAAAD,GAgBnBC,EAAAW,UAAAC,OAAA,WACA,IAyBAC,EAzBAC,EAAAX,KAAAY,MACAC,EAAAF,EAAAE,UACAC,EAAAH,EAAAG,OACAC,EAAAJ,EAAAI,MACAC,EAAAL,EAAAK,MACAC,EAAAN,EAAAM,SACAC,EAAAP,EAAAO,MACAC,EAAkBC,IAAWC,EAAA,YAAqBA,EAAA,YAAmBP,KAAAJ,EAAA,IAAuBW,EAAA,UAAgBrB,KAAAY,MAAAhD,SAAA8C,EAA4BW,EAAA,OAAaN,EAAAL,EAAcW,EAAA,OAAaL,EAAAN,EAAcW,EAAA,OAAaH,EAAAR,GAAAG,GAE3MS,EAAgBf,EAAA,EAAgB,GAAGP,KAAAY,MAAAU,MAAA,CACnCC,aAAAvB,KAAAE,MAAAC,oBAGA,OAAWqB,EAAA,cAAmB,OAC9BX,UAAAM,GACOK,EAAA,cAAoBC,EAAA,EAAI,CAC/BA,KAAAR,IACQO,EAAA,cAAmB,QAAUjB,EAAA,EAAgB,CACrDmB,KAAA,QACO7E,OAAA8E,EAAA,EAAA9E,CAAkBmD,KAAAY,OAAA,CACzBC,UAAiBQ,EAAA,MACjBf,IAAAN,KAAAY,MAAAgB,SACAN,WACKtB,KAAA6B,4BAKLhC,EAAAW,UAAAsB,kBAAA,WACA9B,KAAA+B,oBAGAlC,EAAAW,UAAAwB,mBAAA,WACAhC,KAAA+B,oBAGAlC,EAAAW,UAAAqB,wBAAA,WACA,IAAAxB,EAAAL,KAAAY,MAAAP,aAEA,SAAAA,EAIA,OAAWmB,EAAA,cAAmB,QAC9BX,UAAiBQ,EAAA,aACjBf,IAAAN,KAAAI,YAAAC,cACKA,IAGLR,EAAAW,UAAAuB,iBAAA,WACA,SAAA/B,KAAAK,aAAA,CACA,IAAA4B,EAAAjC,KAAAK,aAAA4B,YAEAC,KAAAC,IAAAF,EAAAjC,KAAAE,MAAAC,mBAAA,GACAH,KAAAoC,SAAA,CACAjC,kBAAA8B,SAIAjC,KAAAoC,SAAA,CACAjC,kBAAAT,KAKAG,EAAAwC,YAA2BV,EAAA,EAAkB,cAC7C9B,EApFA,CAqFE2B,EAAA,gDCxFEc,EAEJ,SAAA1C,GAGA,SAAA2C,IACA,IAAAzC,EAAA,OAAAF,KAAAG,MAAAC,KAAAC,YAAAD,KAsIA,OApIAF,EAAAI,MAAA,CACAsC,QAAA,GAEA1C,EAAA2C,eAA2BC,EAAA,EAASC,SACpC7C,EAAA8C,MAAA,KACA9C,EAAA4C,UAAA,KACA5C,EAAAM,YAAA,CACAwC,MAAA,SAAAtC,GACAR,EAAA8C,MAAAtC,EACQuC,EAAA,EAAKC,iBAAAhD,EAAAc,MAAAmC,WAAA,WAAAzC,IAEboC,UAAA,SAAApC,GACA,OAAAR,EAAA4C,UAAApC,IAIAR,EAAAkD,gBAAA,SAAAC,GAEA,IAAAtC,EAAAb,EAAAc,MACAF,EAAAC,EAAAuC,WACAA,OAAA,IAAAxC,KACAyC,EAAAxC,EAAA/C,SACAA,OAAA,IAAAuF,KACAC,EAAAzC,EAAAoC,WACAA,OAAA,IAAAK,EAAA,GAAyCA,EACzCC,EAAA1C,EAAA2C,aACAA,OAAA,IAAAD,EAAA,GAA2CA,EAC3CT,EAAkBpB,EAAA,cAAoB7B,EAAYY,EAAA,EAAgB,CAClEU,SAAA,SACAsC,YAAA,YACAlD,aAAAP,EAAA0D,uBAAAP,EAAA5F,QACO0F,EAAA,CACPnB,SAAA9B,EAAAM,YAAAwC,MACAa,SAAAR,EAAAS,kBACAC,MAAAV,EAAA5F,SAEAuG,EAAAX,EAAAW,cACAC,EAAAZ,EAAAY,YACA,OAAarC,EAAA,cAAoBsC,EAAA,EAASvD,EAAA,EAAgB,CAC1DwD,WAAA,EACAC,cAAA,EACAxB,OAAA1C,EAAAI,MAAAsC,OACA5E,WACAqG,SAAkBA,EAAA,EAAQC,aACnBZ,EAAA,CACPzC,UAAmBO,IAAU6B,EAAApC,UAAAyC,EAAAzC,WAC7BsD,cAAArE,EAAAsE,yBACAC,iBAA0BjD,IAAWkD,EAAA,EAAOC,eAAAjB,EAAAe,kBAC5CG,UAAA1E,EAAA2E,qBACAC,SAAA5E,EAAA6E,oBACAC,UAAA9E,EAAA+E,uBACUrD,EAAA,cAAmB,OAC7BsD,UAAAhF,EAAAI,MAAAsC,OAAAoB,EAAA9D,EAAAiF,oBACAC,QAAAlF,EAAAI,MAAAsC,OAAAqB,OAAAoB,GACOnF,EAAAc,MAAAsE,UAAyB1D,EAAA,cAAmB,OACnDsD,UAAAlB,EACAoB,QAAAnB,GACOX,EAAAN,OAAAqC,EAAAhC,EAAAkC,YAGPrF,EAAAiF,oBAAA,SAAAK,GAEAA,EAAAC,QAA0BxC,EAAA,EAAIyC,UAAAF,EAAAC,QAA6BxC,EAAA,EAAI0C,aAC/DH,EAAAI,iBAEA1F,EAAAsC,SAAA,CACAI,QAAA,MAKA1C,EAAA2F,iBAAA,SAAAC,EAAAN,GACAtF,EAAAsC,SAAA,CACAI,QAAA,IAGMK,EAAA,EAAK8C,WAAA7F,EAAAc,MAAAgF,aAAAF,EAAAN,IAGXtF,EAAAsE,yBAAA,SAAA5B,GACA1C,EAAAsC,SAAA,CACAI,WAGMK,EAAA,EAAKC,iBAAAhD,EAAAc,MAAA0C,aAAA,gBAAAd,IAGX1C,EAAA2E,qBAAA,SAAAoB,GAEA/F,EAAAgG,uBAAAC,SAAAC,cAEAlG,EAAAc,MAAAqF,cACAnG,EAAAoG,aAGMrD,EAAA,EAAKC,iBAAAhD,EAAAc,MAAA0C,aAAA,YAAAuC,IAGX/F,EAAA6E,oBAAA,SAAAkB,GAEA,MAAA/F,EAAA4C,WACA5C,EAAA4C,UAAAyD,2BAGAC,sBAAA,WACA,IAAAzF,EAAAb,EAAAc,MAAAmC,YAGA,UAFA,IAAApC,EAAA,GAA2CA,GAE3CoD,WAAA,MAAAjE,EAAA8C,OACA9C,EAAA8C,MAAAyD,UAGMxD,EAAA,EAAKC,iBAAAhD,EAAAc,MAAA0C,aAAA,WAAAuC,IAGX/F,EAAA+E,qBAAA,SAAAgB,GAGAO,sBAAA,gBACAnB,IAAAnF,EAAAgG,yBACAhG,EAAAgG,uBAAAO,QAEAvG,EAAAgG,4BAAAb,KAGMpC,EAAA,EAAKC,iBAAAhD,EAAAc,MAAA0C,aAAA,YAAAuC,IAGX/F,EAAAoG,WAAA,WACA,OAAApG,EAAA4C,WAAA5C,EAAA4C,UAAA4D,SAAA,QAGAxG,EAqCA,OA9KES,EAAA,EAAiBgC,EAAA3C,GA4InB2C,EAAAI,OAAA,WACA,OAAAJ,GAGAA,EAAA/B,UAAAC,OAAA,WAEA,IAAAE,EAAAX,KAAAY,MAIA2F,GAHA5F,EAAAuC,WACAvC,EAAAoC,WACApC,EAAA2C,aACoB/C,EAAA,EAAcI,EAAA,6CAElC,OAAWa,EAAA,cAAmBxB,KAAAyC,eAAsBlC,EAAA,EAAgB,GAAGgG,EAAA,CACvEX,aAAA5F,KAAAyF,iBACAnF,IAAAN,KAAAI,YAAAsC,UACA8D,SAAAxG,KAAAgD,oBAIAT,EAAA/B,UAAAwB,mBAAA,SAAAyE,EAAAC,GACA1G,KAAAE,MAAAsC,SAAAkE,EAAAlE,QAAA,MAAAxC,KAAA0C,WACA1C,KAAA0C,UAAAyD,4BAIA5D,EAAA/B,UAAAgD,uBAAA,SAAAnG,GACA,OAAAA,EAAAqB,OAAA,EAA8B8C,EAAA,cAAoBmF,EAAA,EAAM,CACxDlF,KAAA,QACAmF,SAAA,EACA5I,QAAAgC,KAAAkG,kBACKjB,GAGL1C,EAAAF,YAAuBV,EAAA,EAAkB,UACzCY,EA/KA,CAgLEf,EAAA,qEClMF,IAAMqF,EAAatE,EAAOI,SAULmE,cACnB,SAAAA,EAAYlG,GAAoB,IAAAd,EAAA,OAAAjD,OAAAkK,EAAA,EAAAlK,CAAAmD,KAAA8G,IAC9BhH,EAAAjD,OAAAmK,EAAA,EAAAnK,CAAAmD,KAAAnD,OAAAoK,EAAA,EAAApK,CAAAiK,GAAAI,KAAAlH,KAAMY,KAqBAuG,kBAAoB,SAAClK,GAAD,OAAuB6C,EAAKsC,SAAS,CAAEnF,UAnBjE6C,EAAKI,MAAQ,CACXjD,KAAMmK,gBAAoB,IAJEtH,wEAQ9B,IAAMuH,EAAarH,KAAKE,MAAMjD,KAAKT,MACnC,OACEgF,EAAA,cAACqF,EAAD,CACEpH,MAAO2H,gBACP7H,cAAe6H,aACf5H,aAAc4H,aACdE,UAAW9F,EAAA,cAAC+F,EAAA,EAAD,CAAU3J,UAAU,EAAML,KAAK,gBAC1CqI,aAAc5F,KAAKmH,mBAEnB3F,EAAA,cAACmF,EAAA,EAAD,CAAQpJ,KAAM8J,EAAYG,UAAU,uBAlBNC","file":"static/js/10.77a70ee1.chunk.js","sourcesContent":["/*\r\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\r\n *\r\n * Licensed under the terms of the LICENSE file distributed with this project.\r\n */\r\n\r\nimport { MenuItem } from \"@blueprintjs/core\";\r\nimport { ItemPredicate, ItemRenderer } from \"@blueprintjs/select\";\r\nimport * as React from \"react\";\r\n\r\nexport interface IFilm {\r\n  /** Title of film. */\r\n  title: string;\r\n  /** Release year. */\r\n  year: number;\r\n  /** IMDb ranking. */\r\n  rank: number;\r\n}\r\n\r\n/** Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top */\r\nexport const TOP_100_FILMS: IFilm[] = [\r\n  { title: \"The Shawshank Redemption\", year: 1994 },\r\n  { title: \"The Godfather\", year: 1972 },\r\n  { title: \"The Godfather: Part II\", year: 1974 },\r\n  { title: \"The Dark Knight\", year: 2008 },\r\n  { title: \"12 Angry Men\", year: 1957 },\r\n  { title: \"Schindler's List\", year: 1993 },\r\n  { title: \"Pulp Fiction\", year: 1994 },\r\n  { title: \"The Lord of the Rings: The Return of the King\", year: 2003 },\r\n  { title: \"The Good, the Bad and the Ugly\", year: 1966 },\r\n  { title: \"Fight Club\", year: 1999 },\r\n  { title: \"The Lord of the Rings: The Fellowship of the Ring\", year: 2001 },\r\n  { title: \"Star Wars: Episode V - The Empire Strikes Back\", year: 1980 },\r\n  { title: \"Forrest Gump\", year: 1994 },\r\n  { title: \"Inception\", year: 2010 },\r\n  { title: \"The Lord of the Rings: The Two Towers\", year: 2002 },\r\n  { title: \"One Flew Over the Cuckoo's Nest\", year: 1975 },\r\n  { title: \"Goodfellas\", year: 1990 },\r\n  { title: \"The Matrix\", year: 1999 },\r\n  { title: \"Seven Samurai\", year: 1954 },\r\n  { title: \"Star Wars: Episode IV - A New Hope\", year: 1977 },\r\n  { title: \"City of God\", year: 2002 },\r\n  { title: \"Se7en\", year: 1995 },\r\n  { title: \"The Silence of the Lambs\", year: 1991 },\r\n  { title: \"It's a Wonderful Life\", year: 1946 },\r\n  { title: \"Life Is Beautiful\", year: 1997 },\r\n  { title: \"The Usual Suspects\", year: 1995 },\r\n  { title: \"Léon: The Professional\", year: 1994 },\r\n  { title: \"Spirited Away\", year: 2001 },\r\n  { title: \"Saving Private Ryan\", year: 1998 },\r\n  { title: \"Once Upon a Time in the West\", year: 1968 },\r\n  { title: \"American History X\", year: 1998 },\r\n  { title: \"Interstellar\", year: 2014 },\r\n  { title: \"Casablanca\", year: 1942 },\r\n  { title: \"City Lights\", year: 1931 },\r\n  { title: \"Psycho\", year: 1960 },\r\n  { title: \"The Green Mile\", year: 1999 },\r\n  { title: \"The Intouchables\", year: 2011 },\r\n  { title: \"Modern Times\", year: 1936 },\r\n  { title: \"Raiders of the Lost Ark\", year: 1981 },\r\n  { title: \"Rear Window\", year: 1954 },\r\n  { title: \"The Pianist\", year: 2002 },\r\n  { title: \"The Departed\", year: 2006 },\r\n  { title: \"Terminator 2: Judgment Day\", year: 1991 },\r\n  { title: \"Back to the Future\", year: 1985 },\r\n  { title: \"Whiplash\", year: 2014 },\r\n  { title: \"Gladiator\", year: 2000 },\r\n  { title: \"Memento\", year: 2000 },\r\n  { title: \"The Prestige\", year: 2006 },\r\n  { title: \"The Lion King\", year: 1994 },\r\n  { title: \"Apocalypse Now\", year: 1979 },\r\n  { title: \"Alien\", year: 1979 },\r\n  { title: \"Sunset Boulevard\", year: 1950 },\r\n  {\r\n    title:\r\n      \"Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb\",\r\n    year: 1964\r\n  },\r\n  { title: \"The Great Dictator\", year: 1940 },\r\n  { title: \"Cinema Paradiso\", year: 1988 },\r\n  { title: \"The Lives of Others\", year: 2006 },\r\n  { title: \"Grave of the Fireflies\", year: 1988 },\r\n  { title: \"Paths of Glory\", year: 1957 },\r\n  { title: \"Django Unchained\", year: 2012 },\r\n  { title: \"The Shining\", year: 1980 },\r\n  { title: \"WALL·E\", year: 2008 },\r\n  { title: \"American Beauty\", year: 1999 },\r\n  { title: \"The Dark Knight Rises\", year: 2012 },\r\n  { title: \"Princess Mononoke\", year: 1997 },\r\n  { title: \"Aliens\", year: 1986 },\r\n  { title: \"Oldboy\", year: 2003 },\r\n  { title: \"Once Upon a Time in America\", year: 1984 },\r\n  { title: \"Witness for the Prosecution\", year: 1957 },\r\n  { title: \"Das Boot\", year: 1981 },\r\n  { title: \"Citizen Kane\", year: 1941 },\r\n  { title: \"North by Northwest\", year: 1959 },\r\n  { title: \"Vertigo\", year: 1958 },\r\n  { title: \"Star Wars: Episode VI - Return of the Jedi\", year: 1983 },\r\n  { title: \"Reservoir Dogs\", year: 1992 },\r\n  { title: \"Braveheart\", year: 1995 },\r\n  { title: \"M\", year: 1931 },\r\n  { title: \"Requiem for a Dream\", year: 2000 },\r\n  { title: \"Amélie\", year: 2001 },\r\n  { title: \"A Clockwork Orange\", year: 1971 },\r\n  { title: \"Like Stars on Earth\", year: 2007 },\r\n  { title: \"Taxi Driver\", year: 1976 },\r\n  { title: \"Lawrence of Arabia\", year: 1962 },\r\n  { title: \"Double Indemnity\", year: 1944 },\r\n  { title: \"Eternal Sunshine of the Spotless Mind\", year: 2004 },\r\n  { title: \"Amadeus\", year: 1984 },\r\n  { title: \"To Kill a Mockingbird\", year: 1962 },\r\n  { title: \"Toy Story 3\", year: 2010 },\r\n  { title: \"Logan\", year: 2017 },\r\n  { title: \"Full Metal Jacket\", year: 1987 },\r\n  { title: \"Dangal\", year: 2016 },\r\n  { title: \"The Sting\", year: 1973 },\r\n  { title: \"2001: A Space Odyssey\", year: 1968 },\r\n  { title: \"Singin' in the Rain\", year: 1952 },\r\n  { title: \"Toy Story\", year: 1995 },\r\n  { title: \"Bicycle Thieves\", year: 1948 },\r\n  { title: \"The Kid\", year: 1921 },\r\n  { title: \"Inglourious Basterds\", year: 2009 },\r\n  { title: \"Snatch\", year: 2000 },\r\n  { title: \"3 Idiots\", year: 2009 },\r\n  { title: \"Monty Python and the Holy Grail\", year: 1975 }\r\n].map((m, index) => ({ ...m, rank: index + 1 }));\r\n\r\nexport const renderFilm: ItemRenderer<IFilm> = (\r\n  film,\r\n  { handleClick, modifiers, query }\r\n) => {\r\n  if (!modifiers.matchesPredicate) {\r\n    return null;\r\n  }\r\n  const text = `${film.rank}. ${film.title}`;\r\n  return (\r\n    <MenuItem\r\n      active={modifiers.active}\r\n      disabled={modifiers.disabled}\r\n      label={film.year.toString()}\r\n      key={film.rank}\r\n      onClick={handleClick}\r\n      text={highlightText(text, query)}\r\n    />\r\n  );\r\n};\r\n\r\nexport const filterFilm: ItemPredicate<IFilm> = (query, film) => {\r\n  return (\r\n    `${film.rank}. ${film.title.toLowerCase()} ${film.year}`.indexOf(\r\n      query.toLowerCase()\r\n    ) >= 0\r\n  );\r\n};\r\n\r\nfunction highlightText(text: string, query: string) {\r\n  let lastIndex = 0;\r\n  const words = query\r\n    .split(/\\s+/)\r\n    .filter(word => word.length > 0)\r\n    .map(escapeRegExpChars);\r\n  if (words.length === 0) {\r\n    return [text];\r\n  }\r\n  const regexp = new RegExp(words.join(\"|\"), \"gi\");\r\n  const tokens: React.ReactNode[] = [];\r\n  while (true) {\r\n    const match = regexp.exec(text);\r\n    if (!match) {\r\n      break;\r\n    }\r\n    const length = match[0].length;\r\n    const before = text.slice(lastIndex, regexp.lastIndex - length);\r\n    if (before.length > 0) {\r\n      tokens.push(before);\r\n    }\r\n    lastIndex = regexp.lastIndex;\r\n    tokens.push(<strong key={lastIndex}>{match[0]}</strong>);\r\n  }\r\n  const rest = text.slice(lastIndex);\r\n  if (rest.length > 0) {\r\n    tokens.push(rest);\r\n  }\r\n  return tokens;\r\n}\r\n\r\nfunction escapeRegExpChars(text: string) {\r\n  return text;\r\n}\r\n\r\nexport const filmSelectProps = {\r\n  itemPredicate: filterFilm,\r\n  itemRenderer: renderFilm,\r\n  items: TOP_100_FILMS\r\n};\r\n","/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport * as Classes from \"../../common/classes\";\nimport { DISPLAYNAME_PREFIX, removeNonHTMLProps } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nvar DEFAULT_RIGHT_ELEMENT_WIDTH = 10;\n\nvar InputGroup =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(InputGroup, _super);\n\n  function InputGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      rightElementWidth: DEFAULT_RIGHT_ELEMENT_WIDTH\n    };\n    _this.refHandlers = {\n      rightElement: function rightElement(ref) {\n        return _this.rightElement = ref;\n      }\n    };\n    return _this;\n  }\n\n  InputGroup.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        intent = _a.intent,\n        large = _a.large,\n        small = _a.small,\n        leftIcon = _a.leftIcon,\n        round = _a.round;\n    var classes = classNames(Classes.INPUT_GROUP, Classes.intentClass(intent), (_b = {}, _b[Classes.DISABLED] = this.props.disabled, _b[Classes.LARGE] = large, _b[Classes.SMALL] = small, _b[Classes.ROUND] = round, _b), className);\n\n    var style = tslib_1.__assign({}, this.props.style, {\n      paddingRight: this.state.rightElementWidth\n    });\n\n    return React.createElement(\"div\", {\n      className: classes\n    }, React.createElement(Icon, {\n      icon: leftIcon\n    }), React.createElement(\"input\", tslib_1.__assign({\n      type: \"text\"\n    }, removeNonHTMLProps(this.props), {\n      className: Classes.INPUT,\n      ref: this.props.inputRef,\n      style: style\n    })), this.maybeRenderRightElement());\n\n    var _b;\n  };\n\n  InputGroup.prototype.componentDidMount = function () {\n    this.updateInputWidth();\n  };\n\n  InputGroup.prototype.componentDidUpdate = function () {\n    this.updateInputWidth();\n  };\n\n  InputGroup.prototype.maybeRenderRightElement = function () {\n    var rightElement = this.props.rightElement;\n\n    if (rightElement == null) {\n      return undefined;\n    }\n\n    return React.createElement(\"span\", {\n      className: Classes.INPUT_ACTION,\n      ref: this.refHandlers.rightElement\n    }, rightElement);\n  };\n\n  InputGroup.prototype.updateInputWidth = function () {\n    if (this.rightElement != null) {\n      var clientWidth = this.rightElement.clientWidth; // small threshold to prevent infinite loops\n\n      if (Math.abs(clientWidth - this.state.rightElementWidth) > 2) {\n        this.setState({\n          rightElementWidth: clientWidth\n        });\n      }\n    } else {\n      this.setState({\n        rightElementWidth: DEFAULT_RIGHT_ELEMENT_WIDTH\n      });\n    }\n  };\n\n  InputGroup.displayName = DISPLAYNAME_PREFIX + \".InputGroup\";\n  return InputGroup;\n}(React.PureComponent);\n\nexport { InputGroup };","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { Button, DISPLAYNAME_PREFIX, InputGroup, Keys, Popover, Position, Utils } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\n\nvar Select =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Select, _super);\n\n  function Select() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.TypedQueryList = QueryList.ofType();\n    _this.input = null;\n    _this.queryList = null;\n    _this.refHandlers = {\n      input: function input(ref) {\n        _this.input = ref;\n        Utils.safeInvokeMember(_this.props.inputProps, \"inputRef\", ref);\n      },\n      queryList: function queryList(ref) {\n        return _this.queryList = ref;\n      }\n    };\n\n    _this.renderQueryList = function (listProps) {\n      // not using defaultProps cuz they're hard to type with generics (can't use <T> on static members)\n      var _a = _this.props,\n          _b = _a.filterable,\n          filterable = _b === void 0 ? true : _b,\n          _c = _a.disabled,\n          disabled = _c === void 0 ? false : _c,\n          _d = _a.inputProps,\n          inputProps = _d === void 0 ? {} : _d,\n          _e = _a.popoverProps,\n          popoverProps = _e === void 0 ? {} : _e;\n      var input = React.createElement(InputGroup, tslib_1.__assign({\n        leftIcon: \"search\",\n        placeholder: \"Filter...\",\n        rightElement: _this.maybeRenderClearButton(listProps.query)\n      }, inputProps, {\n        inputRef: _this.refHandlers.input,\n        onChange: listProps.handleQueryChange,\n        value: listProps.query\n      }));\n      var handleKeyDown = listProps.handleKeyDown,\n          handleKeyUp = listProps.handleKeyUp;\n      return React.createElement(Popover, tslib_1.__assign({\n        autoFocus: false,\n        enforceFocus: false,\n        isOpen: _this.state.isOpen,\n        disabled: disabled,\n        position: Position.BOTTOM_LEFT\n      }, popoverProps, {\n        className: classNames(listProps.className, popoverProps.className),\n        onInteraction: _this.handlePopoverInteraction,\n        popoverClassName: classNames(Classes.SELECT_POPOVER, popoverProps.popoverClassName),\n        onOpening: _this.handlePopoverOpening,\n        onOpened: _this.handlePopoverOpened,\n        onClosing: _this.handlePopoverClosing\n      }), React.createElement(\"div\", {\n        onKeyDown: _this.state.isOpen ? handleKeyDown : _this.handleTargetKeyDown,\n        onKeyUp: _this.state.isOpen ? handleKeyUp : undefined\n      }, _this.props.children), React.createElement(\"div\", {\n        onKeyDown: handleKeyDown,\n        onKeyUp: handleKeyUp\n      }, filterable ? input : undefined, listProps.itemList));\n    };\n\n    _this.handleTargetKeyDown = function (event) {\n      // open popover when arrow key pressed on target while closed\n      if (event.which === Keys.ARROW_UP || event.which === Keys.ARROW_DOWN) {\n        event.preventDefault();\n\n        _this.setState({\n          isOpen: true\n        });\n      }\n    };\n\n    _this.handleItemSelect = function (item, event) {\n      _this.setState({\n        isOpen: false\n      });\n\n      Utils.safeInvoke(_this.props.onItemSelect, item, event);\n    };\n\n    _this.handlePopoverInteraction = function (isOpen) {\n      _this.setState({\n        isOpen: isOpen\n      });\n\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onInteraction\", isOpen);\n    };\n\n    _this.handlePopoverOpening = function (node) {\n      // save currently focused element before popover steals focus, so we can restore it when closing.\n      _this.previousFocusedElement = document.activeElement;\n\n      if (_this.props.resetOnClose) {\n        _this.resetQuery();\n      }\n\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onOpening\", node);\n    };\n\n    _this.handlePopoverOpened = function (node) {\n      // scroll active item into view after popover transition completes and all dimensions are stable.\n      if (_this.queryList != null) {\n        _this.queryList.scrollActiveItemIntoView();\n      }\n\n      requestAnimationFrame(function () {\n        var _a = _this.props.inputProps,\n            inputProps = _a === void 0 ? {} : _a; // autofocus is enabled by default\n\n        if (inputProps.autoFocus !== false && _this.input != null) {\n          _this.input.focus();\n        }\n      });\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onOpened\", node);\n    };\n\n    _this.handlePopoverClosing = function (node) {\n      // restore focus to saved element.\n      // timeout allows popover to begin closing and remove focus handlers beforehand.\n      requestAnimationFrame(function () {\n        if (_this.previousFocusedElement !== undefined) {\n          _this.previousFocusedElement.focus();\n\n          _this.previousFocusedElement = undefined;\n        }\n      });\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onClosing\", node);\n    };\n\n    _this.resetQuery = function () {\n      return _this.queryList && _this.queryList.setQuery(\"\", true);\n    };\n\n    return _this;\n  }\n\n  Select.ofType = function () {\n    return Select;\n  };\n\n  Select.prototype.render = function () {\n    // omit props specific to this component, spread the rest.\n    var _a = this.props,\n        filterable = _a.filterable,\n        inputProps = _a.inputProps,\n        popoverProps = _a.popoverProps,\n        restProps = tslib_1.__rest(_a, [\"filterable\", \"inputProps\", \"popoverProps\"]);\n\n    return React.createElement(this.TypedQueryList, tslib_1.__assign({}, restProps, {\n      onItemSelect: this.handleItemSelect,\n      ref: this.refHandlers.queryList,\n      renderer: this.renderQueryList\n    }));\n  };\n\n  Select.prototype.componentDidUpdate = function (_prevProps, prevState) {\n    if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n      this.queryList.scrollActiveItemIntoView();\n    }\n  };\n\n  Select.prototype.maybeRenderClearButton = function (query) {\n    return query.length > 0 ? React.createElement(Button, {\n      icon: \"cross\",\n      minimal: true,\n      onClick: this.resetQuery\n    }) : undefined;\n  };\n\n  Select.displayName = DISPLAYNAME_PREFIX + \".Select\";\n  return Select;\n}(React.PureComponent);\n\nexport { Select };","import * as React from \"react\";\r\nimport { Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { Select } from \"@blueprintjs/select\";\r\nimport \"./Selector.css\";\r\nimport * as Films from \"./SelectItems\";\r\n\r\nconst FilmSelect = Select.ofType<Films.IFilm>();\r\n\r\nexport interface SelectProps {\r\n  height: number;\r\n}\r\n\r\ninterface SelectState {\r\n  film: Films.IFilm;\r\n}\r\n\r\nexport default class Selector extends React.PureComponent<{}, SelectState> {\r\n  constructor(props: SelectProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      film: Films.TOP_100_FILMS[0]\r\n    };\r\n  }\r\n  public render() {\r\n    const buttonText = this.state.film.title;\r\n    return (\r\n      <FilmSelect\r\n        items={Films.TOP_100_FILMS}\r\n        itemPredicate={Films.filterFilm}\r\n        itemRenderer={Films.renderFilm}\r\n        noResults={<MenuItem disabled={true} text=\"No results.\" />}\r\n        onItemSelect={this.handleValueChange}\r\n      >\r\n        <Button text={buttonText} rightIcon=\"caret-down\" />\r\n      </FilmSelect>\r\n    );\r\n  }\r\n\r\n  private handleValueChange = (film: Films.IFilm) => this.setState({ film });\r\n}\r\n"],"sourceRoot":""}